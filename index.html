<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <script>
        var _errs=["514ca2f22177e8ff0900003f"];(function(a,b){a.onerror=function(){_errs.push(arguments)};
        var d=function(){var a=b.createElement("script"),c=b.getElementsByTagName("script")[0];
        a.src="//d15qhc0lu1ghnk.cloudfront.net/beacon.js";a.async=!0;
        c.parentNode.insertBefore(a,c)};a.addEventListener?a.addEventListener("load",d,!1):
        a.attachEvent("onload",d)})(window,document);
    </script>

    <script type="text/javascript" src="js/polyfill.js"></script>
    <!--[if gte IE 9]><!-->
    <script type="text/javascript" src="js/d3.v2.min.js"></script>
    <script type="text/javascript" src="js/d3.mouse.patch.js"></script>
    <script type="text/javascript" src="js/koala.js"></script>
    <!--<![endif]-->
    <link rel="stylesheet" type="text/css" href="css/koala.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>For Honey Rita</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/pelick">View on GitHub</a>
          <h1 id="project_title">For Honey Rita</h1>
          <h2 id="project_tagline">I wanna make my love a little bit geek-way</h2>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>I am the <strong>Pelick</strong>.</h3>
<p><strong>MyBlog: http://blog.csdn.net/zbf8441372.</strong></p>


<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>

<div id="center">
      <div id="cont">
        <noscript>
          Your browser does not support JavaScript or it is disabled.<br>
          JavaScript is needed to view this site.
        </noscript>
        <div id="dots">
        </div>
        <div id="next" style="display: none">
          <div class="msg">
            Awesome stuff! Now make your own and share the link.<br/>
            Paste an image URL bellow and press enter.
          </div>
          <input placeholder="http://imgur.com/your_favourite_image.jpg"/>
        </div>
      </div>
    </div>
    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
      </section>
      </div>
      
    

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
     <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17409200-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

    <script type="text/javascript">
      window.shownFile = 'none';

      (function() {
        var now = +new Date();
        window.gaTrack = function(type, subtype) {
          var time = Math.round((+new Date() - now) / 1000);
          function doTrack() {
            if (!window._gaq) return;
            _gaq.push(['_trackEvent', String(type), String(subtype), window.location.href, time]);
          }
          if (window._gaq) {
            doTrack()
          } else {
            setTimeout(doTrack, 1);
          }
        }
      })();

      function track(type, subtype) {
        // flextrack({
        //   Type: type,
        //   SybType: subtype,
        //   File: shownFile
        // });
        gaTrack(type, subtype);
      }
    </script>

    <!--[if lt IE 9]>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>

    <style>
      .chromeFrameInstallDefaultStyle {
        width: 800px;
        height: 600px;
        border: 1px solid #cccccc;
      }
    </style>

    <div id="prompt">
    </div>

    <script>
      window.inOldIE = true;
      track('OldIE', '1');

      // The conditional ensures that this code will only execute in IE,
      // Therefore we can use the IE-specific attachEvent without worry
      window.attachEvent("onload", function() {
        CFInstall.check({
          mode: "inline", // the default
          node: "prompt",
          oninstall: function() {
            track('InstalledGCF', 'OneLessRawIE');
          }
        });
      });
    </script>
    <![endif]-->

    <!--[if gte IE 9]><!-->
    <script type="text/javascript">
      // Code left intentionally unminimized for your reading pleasure.

      (function() {
        window.shownFile = 'none';

        var version = '1.7.4';

        // // If an error happens I want to know about it!
        // window.onerror = function(msg, url, ln) {
        //   msg = msg.toString();
        //   // In Chrome and Firefox an error on a script form a foreign domain will cause this, see link bellow:
        //   // http://stackoverflow.com/questions/5913978/cryptic-script-error-reported-in-javascript-in-chrome-and-firefox
        //   if (msg === 'Script error.' && url === '' && ln === 0) return;
        //   track('OnError-' + version, "'" + msg + "' in '" + url + "' @ " + ln + " /u:'" + window.navigator.userAgent + "'");
        //   // Track only one error per page load
        //   window.onerror = function() {};
        // };

        // First, make sure we can run.
        if (!koala.supportsCanvas()) {
          track('NoCanvas', window.navigator.userAgent);
          alert("Sorry, KoalsToTheMax needs HTML5 Canvas support which your browser does not have. Supported browsers include Chrome, Safari, Firefox, Opera, and Internet Explorer 9, 10");
          return;
        }

        if (!koala.supportsSVG()) {
          track('NoSVG', window.navigator.userAgent);
          alert("Sorry, KoalsToTheMax needs SVG support which your browser does not have. Supported browsers include Chrome, Safari, Firefox, Opera, and Internet Explorer 9, 10");
          return;
        }

        // This is strange, track it if it happens.
        if (!window.d3) {
          track('NoD3', window.navigator.userAgent);
          alert("Some how D3 was not loaded so the site can not start. This is bad... We are investigating. Try refreshing the page and see if that helps.");
          return;
        }

        // Temp
        if (location.href.indexOf('YoungLove') != -1) {
          throw new TypeError('String or number not found')
        }

        // Try you must. If there is an error report it to me.
        try {
          // btoa and atob do not handle utf-8 as I have discovered the hard way so they need to babied
          // See: https://developer.mozilla.org/en-US/docs/DOM/window.btoa#Unicode_Strings
          function utf8_to_b64(str) {
            return window.btoa(unescape(encodeURIComponent(str)));
          }

          function b64_to_utf8(str) {
            return decodeURIComponent(escape(window.atob(str)));
          }

          // Handle the custom images 'API'
          // Supported URLs are:
          // 1. DOMAIN
          //   The just the page domain / loads one of the default files
          //
          // 2. DOMAIN?BA5E64==
          //   Where BA5E64== is a UTF-8 base64 encoded string of one of the following things:
          //   a. An image URL
          //      Example: http://i.imgur.com/cz1Jb.jpg
          //      Use that URL image instead of the default one.
          //
          //   b. A JSON string representing an array of URLs
          //      Example: ["http://i.imgur.com/cz1Jb.jpg","http://i.imgur.com/Q5IqH.jpg"]
          //      Pick one of the images at random and use that instead of the default one.
          //
          //   c. A JSON string representing an object with the keys 'images', 'background' and 'hideNote'
          //      Example: {"background":"#000","images":["http://i.imgur.com/cz1Jb.jpg","http://i.imgur.com/Q5IqH.jpg"]}
          //      images (required): Pick one of the images at random and use that instead of the default one.
          //      background (optional): Use the value of background as the page background.
          //      hideNote (optional): Hide the mention on the bottom.
          //
          // 3. DOMAIN?image_url
          //   Where image URL is an actual image URL this is for backwards compatibility.
          //   Example: http://i.imgur.com/cz1Jb.jpg
          //   This is how putting in a custom image used to work.
          //
          // 4. DOMAIN#a_string
          //   This will redirect to DOMAIN?b64(a_string)
          //   This should be used to construct things as above.
          //
          // Note: where DOMAIN is usually http://koalastothemax.com

          function goToHidden(string) {
            location.href = '//' + location.host + location.pathname + '?' + utf8_to_b64(string);
          }

          // Firstly check if there is a hash, and redirect if so
          var href = location.href;
          var idx, rest;

          // Case 4
          idx = href.indexOf('#');
          if (idx != -1) {
            rest = href.substr(idx + 1);
            goToHidden(rest);
            return;
          }

          // Or if the hash changes midway in the page
          window.onhashchange = function() {
            var href = location.href;
            var idx, rest;

            // Case 4'
            idx = href.indexOf('#');
            if (idx != -1) {
              rest = href.substr(idx + 1);
              goToHidden(rest);
              return;
            }
          }

          var file;

          idx = href.indexOf('?');
          if (idx == -1) {
            // Case 1
            //var possible = ['dog', 'kitten', 'koalas', 'lion', 'otter', 'owls', 'pandas'];
            var possible = ['koalas', 'koalas1', 'koalas2', 'koalas3'];
            shownFile = possible[Math.floor(Math.random() * possible.length)];
            file = 'img/' + shownFile + '.jpg';
          } else {
            rest = href.substr(idx + 1);
            if (rest.match(/^[a-z0-9+\/]+=*$/i)) {
              // Case 2
              rest = b64_to_utf8(rest);
              if (rest[0] != '[' && rest[0] != '{') {
                // Case 2a
                file = rest;
              } else {
                try {
                  var rest = JSON.parse(rest);
                  if (Array.isArray(rest)) {
                    // Case 2b
                    file = rest[Math.floor(Math.random() * rest.length)] || '';
                  } else if (Array.isArray(rest.images)) {
                    // Case 2c
                    if (rest.background) {
                      d3.select(document.body)
                        .style('background', rest.background);
                    }
                    if (rest.hideNote) {
                      d3.select('#footer')
                        .style('display', 'none');
                    }
                    rest = rest.images || [];
                    file = rest[Math.floor(Math.random() * rest.length)] || '';
                  }
                } catch (e) {
                  file = '';
                }
              }
            } else {
              // Assume case 3
              goToHidden(rest);
              return;
            }
            shownFile = 'CUSTOM';
          }

          if (file.match(/^http:/)) {
            file = "image-server.php?url=" + file;
          }

          function onEvent(what, value) {
            track(what, value);

            if (what === 'LayerClear' && value == 0) {
              d3.select('#next')
                .style('display', null)
                .select('input')
                  .on('keydown', function() {
                    d3.select('div.err').remove();
                    if (d3.event.keyCode !== 13) return;
                    var input = d3.select(this).property('value');

                    if (input.match(/^http:\/\/.+\..+/i)) {
                      track('Submit', input);
                      d3.select('#next div.msg').text('Thinking...');
                      d3.select(this).style('display', 'none');
                      setTimeout(function() {
                        goToHidden(input);
                      }, 750);
                    } else {
                      d3.select('#next').selectAll('div.err').data([0])
                        .enter().append('div')
                        .attr('class', "err")
                        .text("That doesn't appear to be a valid image URL. [Hint: it should start with 'http://']")
                    }
                  });
            }
          }

          var img = new Image();
          img.onload = function() {
            var colorData;
            try {
              colorData = koala.loadImage(this);
            } catch (e) {
              colorData = null;
              track('BadLoad-' + version, "Msg: '" + e.message + "' file: '" + file + "'");
              alert("Sorry, KoalsToTheMax could not load the image '" + file + "'");
              setTimeout(function() {
                window.location.href = domian;
              }, 750);
            }
            if (colorData) {
              koala.makeCircles(colorData, onEvent);
              track('GoodLoad-' + version, 'Yay');
            }
          };
          img.src = file;
        } catch (e) {
          track('Problemo', String(e.message));
        }
      })();
    </script>
    <!--<![endif]-->

    

  </body>
</html>
